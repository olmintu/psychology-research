<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/config.js"></script>
    <script src="js/data.js"></script>
    <script src="js/main.js"></script>
    <script src="js/test-bratus.js"></script>
    <script src="js/test-milman.js"></script>
    <script src="js/test-ipl.js"></script>
    <script src="js/results.js"></script>
    
    <style>
        :root { --primary: #3498db; --success: #27ae60; --warning: #f39c12; --error: #e74c3c; --bg: #f4f6f8; --info-bg: #ebf5fb; --gray: #95a5a6; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg); color: #333; margin: 0; padding: 15px; line-height: 1.5; }
        
        .container { max-width: 900px; margin: 0 auto; background: #fff; padding: 25px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        
        h1 { font-size: 1.6rem; text-align: center; color: #2c3e50; margin-bottom: 10px; }
        h2 { font-size: 1.3rem; color: #34495e; margin-top: 0; text-align: center; margin-bottom: 15px; }
        h3 { color: #2c3e50; border-bottom: 2px solid #eee; padding-bottom: 5px; margin-top: 30px; }
        
        .instruction { background-color: var(--info-bg); border-left: 5px solid var(--primary); padding: 15px; border-radius: 4px; margin-bottom: 25px; font-size: 0.95rem; color: #2c3e50; line-height: 1.6; }
        .instruction ul { margin: 5px 0 10px 20px; padding: 0; }
        
        .anon-switch { background: #fff3cd; border: 1px solid #ffeeba; padding: 15px; border-radius: 8px; margin-bottom: 20px; display: flex; align-items: flex-start; gap: 10px; }
        .anon-switch input { width: 20px; height: 20px; margin-top: 3px; }
        .anon-warning { font-size: 0.85em; color: #856404; margin-top: 5px; display: none; }
        
        .step { display: none; opacity: 0; transition: opacity 0.3s ease; }
        .step.active { display: block; opacity: 1; }
        
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; font-size: 0.9rem; color: #555; }
        input[type="text"], input[type="number"], select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; box-sizing: border-box; background: #fff; appearance: none; }
        input:disabled, select:disabled { background-color: #f9f9f9; color: #aaa; border-color: #eee; }
        
        .btn-container { display: flex; gap: 15px; margin-top: 25px; }
        .btn { flex: 1; padding: 16px; border: none; border-radius: 10px; font-size: 17px; font-weight: 600; cursor: pointer; transition: transform 0.1s; color: white; }
        .btn:active { transform: scale(0.98); opacity: 0.9; }
        .btn-next { background-color: var(--primary); }
        .btn-back { background-color: var(--gray); }
        .btn-success { background-color: var(--success); }
        .btn-secondary { background-color: #95a5a6; margin-top: 10px; width: 100%; padding: 12px; }
        .btn-red { background-color: #dc3545; margin-top: 10px; width: 100%; padding: 12px; }
        .option-card { border: 2px solid #eee; padding: 12px; margin-bottom: 8px; border-radius: 10px; display: flex; align-items: center; cursor: pointer; transition: all 0.2s; background: #fff; }
        .option-card input { width: 22px; height: 22px; margin-right: 15px; flex-shrink: 0; }
        .option-card.checked { border-color: var(--primary); background-color: #f0f9ff; }

        .error-msg { color: #fff; background: var(--error); padding: 12px; border-radius: 8px; margin-top: 20px; text-align: center; display: none; font-weight: bold; }
        .highlight-error { border: 2px solid var(--error) !important; background-color: #fff5f5 !important; }

        table { width: 100%; border-collapse: collapse; margin-bottom: 40px; }
        th, td { padding: 12px; text-align: center; border-bottom: 1px solid #eee; vertical-align: middle; }
        th { background: #f8f9fa; font-size: 0.85rem; color: #333; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        td:first-child { text-align: left; font-weight: 500; font-size: 0.95rem; width: 45%; }
        
        .res-block { background: #fff; border: 1px solid #eee; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .score-badge { display: inline-block; padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 0.9em; }
        .bg-green { background: #d4edda; color: #155724; }
        .bg-red { background: #f8d7da; color: #721c24; }
        .bg-blue { background: #d1ecf1; color: #0c5460; }
        canvas { max-height: 300px; margin-top: 15px; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .dl-section { background: #f0f7fb; border: 2px dashed #3498db; padding: 20px; text-align: center; border-radius: 10px; margin-bottom: 30px; }
        #result-area { width: 100%; height: 80px; margin-top: 10px; font-size: 12px; padding: 10px; border: 1px solid #ddd; display: none; }
        /*arrows for the "learn more" button */
        .detail-arrow svg {vertical-align: middle;transition: transform 0.25s ease;transform-origin: center; }
        .detail-arrow {display: inline-block;margin-left: 6px;transition: transform 0.25s ease;}
       /* –ü–æ–≤–æ—Ä–æ—Ç —Å—Ç—Ä–µ–ª–∫–∏, –∫–æ–≥–¥–∞ –±–ª–æ–∫ –æ—Ç–∫—Ä—ã—Ç */
        .toggle-details[aria-expanded="true"] 
        .detail-arrow {transform: rotate(180deg);}
        .detail-arrow svg {transform: rotate(180deg);}
       /* –õ—ë–≥–∫–∏–π —Ö–æ–≤–µ—Ä-—ç—Ñ—Ñ–µ–∫—Ç ‚Äî –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ (–≤ –¥—É—Ö–µ flat-—Å—Ç–∏–ª—è) */
       .btn-secondary:hover {background-color: #7f8c8d; /* –Ω–µ–º–Ω–æ–≥–æ —Ç–µ–º–Ω–µ–µ #95a5a6 */}
        /* DEV TOOLS */
        #dev-panel { display: none; background: #333; color: #fff; padding: 15px; border-radius: 8px; margin-top: 15px; }
        #dev-json-input { width: 100%; height: 100px; margin-top: 10px; font-family: monospace; font-size: 12px; color: #333; }
        .dev-btn { background: #555; border: 1px solid #777; color: white; padding: 8px 15px; cursor: pointer; border-radius: 4px; font-size: 0.9em; margin-right: 10px; }
        .dev-btn:hover { background: #666; }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            th { font-size: 0.7rem; padding: 5px; }
            td { padding: 10px 2px; }
            td:first-child { font-size: 0.9rem; width: 100%; display: block; border-bottom: none; padding-bottom: 5px; color: var(--primary); font-weight: 600; }
            tr { display: block; border-bottom: 1px solid #ddd; padding-bottom: 10px; margin-bottom: 10px; }
            td:not(:first-child) { display: inline-block; width: 22%; border: none; }
            thead { display: none; } 
            td:not(:first-child)::before { content: attr(data-label); display: block; font-size: 0.7em; color: #888; margin-bottom: 5px; }
            input[type="radio"] { width: 24px; height: 24px; margin: 0; }
        }
        
        

        .progress-bar { height: 6px; background: #e9ecef; border-radius: 3px; margin-bottom: 20px; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s; }
    </style>
    <link rel="icon" href="icons/favicon.ico" sizes="any">
    <link rel="icon" href="icons/favicon.svg" type="image/svg+xml">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-180.png">
    <link rel="manifest" href="site.webmanifest">
</head>
<body>

<div class="container">
    <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>

    <!-- –ê–ù–ö–ï–¢–ê -->
    <div class="step active" id="step-form">
        <h1>–ê–Ω–∫–µ—Ç–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞</h1>
        <div class="instruction">
            –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í–∞–º –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.<br>
            –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ <b>—Ç–æ–ª—å–∫–æ –≤ –æ–±–æ–±—â–µ–Ω–Ω–æ–º –≤–∏–¥–µ</b>.
        </div>
        
        <div class="anon-switch">
            <input type="checkbox" id="anon_mode" onchange="toggleAnon(); saveStateToLocal();">
            <div>
                <label for="anon_mode" style="margin:0; cursor:pointer;"><b>–ü—Ä–æ–π—Ç–∏ –æ–ø—Ä–æ—Å –∞–Ω–æ–Ω–∏–º–Ω–æ</b></label>
                <div class="anon-warning" id="anon_warning">
                    –°–≤–µ–¥–µ–Ω–∏—è –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å, –¥–ª—è –∫–∞–∫–∏—Ö –≥—Ä—É–ø–ø –ª—é–¥–µ–π –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã –≤ –±–æ–ª—å—à–µ–π —Å—Ç–µ–ø–µ–Ω–∏. 
                    –û—Ç–∫–∞–∑ –æ—Ç –∏—Ö —É–∫–∞–∑–∞–Ω–∏—è –ø—Ä–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –æ–±–æ–±—â–∞–µ–º–æ—Å—Ç—å –≤—ã–≤–æ–¥–æ–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.
                </div>
            </div>
        </div>

        <div class="form-group"><label>–í–∞—à–µ –∏–º—è (–∏–ª–∏ –ø—Å–µ–≤–¥–æ–Ω–∏–º): <span class="req">*</span></label><input type="text" id="fio" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω" onkeyup="checkDevMode(this.value)"></div>
        
        <!-- DEV TOOLS -->
        <div id="dev-panel">
            <div style="font-weight:bold; margin-bottom:10px;">üõ†Ô∏è –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</div>
            <div style="display:flex; align-items:center;">
                <button class="dev-btn" onclick="fillRandomData()">üé≤ –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ</button>
                <button class="dev-btn" onclick="document.getElementById('dev-import').style.display='block'">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å JSON</button>
            </div>
            <div id="dev-import" style="display:none; margin-top:10px;">
                <textarea id="dev-json-input" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ JSON —Å—é–¥–∞..."></textarea>
                <button class="dev-btn" style="margin-top:5px; background:#27ae60" onclick="loadDevJSON()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                <div id="dev-error" style="color:#e74c3c; font-size:0.9em; margin-top:5px;"></div>
            </div>
        </div>

        <div style="display: flex; gap: 10px;">
            <div class="form-group" style="flex: 1;"><label>–ü–æ–ª: <span class="req">*</span></label><select id="gender" onchange="saveStateToLocal()"><option value="">–í—ã–±—Ä–∞—Ç—å...</option><option value="–ú—É–∂—Å–∫–æ–π">–ú—É–∂—Å–∫–æ–π</option><option value="–ñ–µ–Ω—Å–∫–∏–π">–ñ–µ–Ω—Å–∫–∏–π</option></select></div>
            <div class="form-group" style="flex: 1;"><label>–í–æ–∑—Ä–∞—Å—Ç: <span class="req">*</span></label><input type="number" id="age" placeholder="18" onchange="saveStateToLocal()"></div>
        </div>
        <div class="form-group"><label>–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ: <span class="req">*</span></label><select id="family_status" onchange="saveStateToLocal()"><option value="">–í—ã–±—Ä–∞—Ç—å...</option><option value="–•–æ–ª–æ—Å—Ç/–ù–µ –∑–∞–º—É–∂–µ–º">–•–æ–ª–æ—Å—Ç / –ù–µ –∑–∞–º—É–∂–µ–º</option><option value="–ñ–µ–Ω–∞—Ç/–ó–∞–º—É–∂–µ–º">–ñ–µ–Ω–∞—Ç / –ó–∞–º—É–∂–µ–º</option><option value="–í —Ä–∞–∑–≤–æ–¥–µ">–í —Ä–∞–∑–≤–æ–¥–µ</option></select></div>
        <div class="form-group"><label>–ï—Å—Ç—å –ª–∏ –¥–µ—Ç–∏? <span class="req">*</span></label><select id="children" onchange="saveStateToLocal()"><option value="–ù–µ—Ç">–ù–µ—Ç</option><option value="–î–∞">–î–∞</option></select></div>
        <div class="form-group"><label>–†–∞–±–æ—Ç–∞–µ—Ç–µ –ª–∏ –í—ã? <span class="req">*</span></label><select id="is_working" onchange="toggleWorkPlace(); saveStateToLocal()"><option value="–ù–µ—Ç">–ù–µ—Ç</option><option value="–î–∞">–î–∞</option></select></div>
        <div class="form-group" id="work_place_block" style="display: none;"><label>–ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ? (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label><input type="text" id="work_place" onchange="saveStateToLocal()"></div>
        <div class="form-group"><label>–°—Ä–µ–¥–Ω–µ–µ —Å–ø–µ—Ü. –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ? <span class="req">*</span></label><select id="has_secondary_edu" onchange="saveStateToLocal()"><option value="–ù–µ—Ç">–ù–µ—Ç</option><option value="–î–∞">–î–∞</option></select></div>
        
        <div class="form-group"><label>–í–∞—à —Å—Ç–∞—Ç—É—Å –æ–±—É—á–µ–Ω–∏—è: <span class="req">*</span></label><select id="edu_status" onchange="toggleEduBlock(); saveStateToLocal()"><option value="">–í—ã–±—Ä–∞—Ç—å...</option><option value="–£—á—É—Å—å">–°—Ç—É–¥–µ–Ω—Ç (—É—á—É—Å—å —Å–µ–π—á–∞—Å)</option><option value="–ó–∞–∫–æ–Ω—á–∏–ª">–í—ã–ø—É—Å–∫–Ω–∏–∫ (—É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª)</option><option value="–ù–µ—Ç">–ù–µ —É—á–∏–ª—Å—è –≤ –í–£–ó–µ</option></select></div>
        <div id="edu_block" style="display: none; border-left: 3px solid #3498db; padding-left: 15px;">
            <div class="form-group"><label>–í–£–ó: <span class="req">*</span></label><input type="text" id="university" onchange="saveStateToLocal()"></div>
            <div class="form-group"><label>–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å: <span class="req">*</span></label><input type="text" id="speciality" onchange="saveStateToLocal()"></div>
            <div style="display: flex; gap: 10px;">
            <div class="form-group" style="flex: 1;"><label>–£—Ä–æ–≤–µ–Ω—å: <span class="req">*</span></label><select id="edu_level" onchange="saveStateToLocal()"><option value="–ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç">–ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç</option><option value="–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞">–ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞</option><option value="–°–ø–µ—Ü–∏–∞–ª–∏—Ç–µ—Ç">–°–ø–µ—Ü–∏–∞–ª–∏—Ç–µ—Ç</option></select></div>
            <div class="form-group" style="flex: 1;"><label>–û—Å–Ω–æ–≤–∞: <span class="req">*</span></label><select id="edu_basis" onchange="saveStateToLocal()"><option value="–ë—é–¥–∂–µ—Ç">–ë—é–¥–∂–µ—Ç</option><option value="–ü–ª–∞—Ç–Ω–æ–µ">–ü–ª–∞—Ç–Ω–æ–µ</option></select></div>
            </div>
            <div class="form-group" id="course_block"><label>–ö—É—Ä—Å: <span class="req">*</span></label><select id="course" onchange="saveStateToLocal()"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option></select></div>
        </div>

        <div class="error-msg" id="form-error">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ –ê–Ω–æ–Ω–∏–º–Ω—ã–π —Ä–µ–∂–∏–º!</div>
        <button class="btn btn-next" onclick="validateForm()">–ù–∞—á–∞—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</button>
    </div>

    <!-- –ú–ï–¢–û–î–ò–ö–ê 1 -->
    <div class="step" id="step-bratus">
        <h2>1/3. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–µ —Å–º—ã—Å–ª—ã</h2>
        <div class="instruction">
            <p>–ü–µ—Ä–µ–¥ –≤–∞–º–∏ —Å–ø–∏—Å–æ–∫ –∏–∑ 24 —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π. –≠—Ç–æ –ø–µ—Ä–µ—á–µ–Ω—å –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–º—ã—Å–ª–æ–≤, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ª—é–¥–∏.</p>
            <p>–í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å –º—è–≥–∫—É—é —Ä–µ–π—Ç–∏–Ω–≥–æ–≤—É—é –æ—Ü–µ–Ω–∫—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞. –î–ª—è —ç—Ç–æ–≥–æ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ <b>—Ç—Ä–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</b>, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç <b>1-–µ –º–µ—Å—Ç–æ</b> –≤ —Å–∏—Å—Ç–µ–º–µ –í–∞—à–∏—Ö –ª–∏—á–Ω—ã—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–º—ã—Å–ª–æ–≤, –∑–∞—Ç–µ–º —Ç—Ä–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –í—ã –º–æ–≥–ª–∏ –±—ã –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ 2-–µ, –Ω–∞ 3-–µ –∏ —Ç.–¥. –¥–æ 8-–≥–æ –º–µ—Å—Ç–∞.</p>
        </div>
        <p style="text-align:center; font-weight:bold; color:#2980b9; margin-bottom:10px;" id="bratus-sub">–í—ã–±–µ—Ä–∏—Ç–µ 3 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö</p>
        <div id="bratus-options"></div>
        <div class="error-msg" id="bratus-error">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–≤–Ω–æ 3 –ø—É–Ω–∫—Ç–∞!</div>
        <div class="btn-container"><button class="btn btn-back" onclick="prevBratusRank()">–ù–∞–∑–∞–¥</button><button class="btn btn-next" onclick="nextBratusRank()">–î–∞–ª–µ–µ</button></div>
    </div>

    <!-- –ú–ï–¢–û–î–ò–ö–ê 2 -->
    <div class="step" id="step-milman">
        <h2>2/3. –ú–æ—Ç–∏–≤–∞—Ü–∏—è</h2>
        <div class="instruction">
            <p>–ü–µ—Ä–µ–¥ –≤–∞–º–∏ 14 —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π, –∫–∞—Å–∞—é—â–∏—Ö—Å—è –≤–∞—à–∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–π –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ—Ä–æ–Ω –≤–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞ –∂–∏–∑–Ω–∏. –ü—Ä–æ—Å–∏–º –≤–∞—Å –≤—ã—Å–∫–∞–∑–∞—Ç—å –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –Ω–∏–º –ø–æ –∫–∞–∂–¥–æ–º—É –∏–∑ 8 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤, –ø—Ä–æ—Å—Ç–∞–≤–∏–≤ –æ–¥–Ω—É –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –æ—Ü–µ–Ω–æ–∫:</p>
            <ul><li><b>–¥–∞, —Å–æ–≥–ª–∞—Å–µ–Ω</b> </li><li><b>–ø–æ–∂–∞–ª—É–π —Å–æ–≥–ª–∞—Å–µ–Ω</b> </li><li><b>–∫–æ–≥–¥–∞ –∫–∞–∫, —Å–æ–≥–ª–∞—Å–µ–Ω –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Å—Ç–µ–ø–µ–Ω–∏</b> </li><li><b>–Ω–µ—Ç, –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω / –Ω–µ –∑–Ω–∞—é</b> </li></ul>
            <p>–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –æ—Ç–≤–µ—á–∞—Ç—å –±—ã—Å—Ç—Ä–æ, –Ω–µ –∑–∞–¥—É–º—ã–≤–∞–π—Ç–µ—Å—å –¥–æ–ª–≥–æ –Ω–∞–¥ –æ—Ç–≤–µ—Ç–∞–º–∏, –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ—Ç 1 –¥–æ 14. –ù–∞ –≤—Å—é —Ä–∞–±–æ—Ç—É —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ —É–π—Ç–∏ –Ω–µ –±–æ–ª–µ–µ 20 –º–∏–Ω—É—Ç.</p>
        </div>
        <div id="milman-container"></div>
        <div class="error-msg" id="milman-error">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω—ã–µ –∫—Ä–∞—Å–Ω—ã–º!</div>
        <div class="btn-container"><button class="btn btn-back" onclick="prevMilman()">–ù–∞–∑–∞–¥</button><button class="btn btn-next" onclick="finishMilman()">–î–∞–ª–µ–µ</button></div>
    </div>

    <!-- –ú–ï–¢–û–î–ò–ö–ê 3 -->
    <div class="step" id="step-ipl">
        <h2>3/3. –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏</h2>
        <div class="instruction">
            <p>–í–∞—à–µ–º—É –≤–Ω–∏–º–∞–Ω–∏—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Ä—è–¥ –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏–π, –∫–∞–∂–¥–æ–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–Ω–µ—Å—Ç–∏ –∫ —Å–µ–±–µ –∏ —Ä–µ—à–∏—Ç—å, –≤ –∫–∞–∫–æ–π –º–µ—Ä–µ –æ–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –í–∞—à—É –∂–∏–∑–Ω–µ–Ω–Ω—É—é –ø–æ–∑–∏—Ü–∏—é.</p>
            <p>–í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å <b>–ø–æ –ø–µ—Ä–≤–æ–º—É –ø–æ–±—É–∂–¥–µ–Ω–∏—é, –∑–∞—Ç—Ä–∞—á–∏–≤–∞—è –Ω–∞ –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –Ω–µ –±–æ–ª–µ–µ 10-15 —Å–µ–∫—É–Ω–¥,</b> –∞ –∑–∞—Ç–µ–º –æ—Ç–º–µ—Ç–∏—Ç—å –µ–≥–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≥—Ä–∞—Ñ–µ –±–ª–∞–Ω–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤.</p>
            <p>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤:</p>
            <ul><li><b>1</b> ‚Äî –ù–µ —Å–æ–≥–ª–∞—Å–µ–Ω</li><li><b>2</b> ‚Äî –°–∫–æ—Ä–µ–µ –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω</li><li><b>3</b> ‚Äî –°–ª–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å</li><li><b>4</b> ‚Äî –°–∫–æ—Ä–µ–µ —Å–æ–≥–ª–∞—Å–µ–Ω</li><li><b>5</b> ‚Äî –°–æ–≥–ª–∞—Å–µ–Ω</li></ul>
        </div>
        <div id="ipl-container"></div>
        <div class="error-msg" id="ipl-error">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω—ã–µ –∫—Ä–∞—Å–Ω—ã–º!</div>
        <div class="btn-container"><button class="btn btn-back" onclick="prevIPL()">–ù–∞–∑–∞–¥</button><button class="btn btn-success" onclick="finishSurvey()">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button></div>
    </div>

    <div class="step" id="step-loading" style="text-align:center; padding: 40px 0;">
        <h2 style="color:var(--primary)">–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...</h2>
        <div class="spinner"></div>
        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É</p>
    </div>

    <!-- –†–ï–ó–£–õ–¨–¢–ê–¢–´ -->
    <div class="step" id="step-results">
        <h1 style="color:var(--success)">–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h1>
        <p id="final-msg" style="text-align:center">–î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è...</p>
        
        <div class="dl-section">
            <h3 style="margin-top:0">üìÅ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h3>
            <p style="font-size:0.9em; margin-bottom:15px">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—é.</p>
            <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
                <button class="btn btn-success" style="flex:0 0 auto; min-width:200px;" onclick="downloadJSON()">üì• –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª</button>
                <button class="btn btn-secondary" style="flex:0 0 auto; min-width:200px; margin-top:0;" onclick="copyResult()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
                
            </div>
            <textarea id="result-area" readonly></textarea>
            <p id="copy-msg" style="color:var(--success); display:none; font-weight:bold; margin-top:5px;">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!</p>
        </div>

        <h2 style="margin-top:40px;">üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h2>
        <div style="background:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:15px;border-radius:8px;margin-bottom:25px;font-size:0.95em;line-height:1.6;">
    <b>–í–Ω–∏–º–∞–Ω–∏–µ!</b> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –±–µ–∑ —É—á–∞—Å—Ç–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, –Ω–µ —Å–ª–µ–¥—É–µ—Ç –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–ª–∏—à–∫–æ–º —Å–µ—Ä—å–µ–∑–Ω–æ.
    –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –∏–º–µ—é—Ç —Ç–æ–ª—å–∫–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Å–∏—Ö–æ–ª–æ–≥–æ–º.
</div>
        <div class="res-block">
            <h3>1. –°–∏—Å—Ç–µ–º–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–º—ã—Å–ª–æ–≤</h3>
            <p>–ß–µ–º –Ω–∏–∂–µ —Å—Ç–æ–ª–±–µ—Ü (–º–µ–Ω—å—à–µ –±–∞–ª–ª–æ–≤), —Ç–µ–º <b>–≤–∞–∂–Ω–µ–µ</b> –¥–ª—è –≤–∞—Å —ç—Ç–∞ —Å—Ñ–µ—Ä–∞.</p>
           <!-- —Å—Ç–∞—Ä—ã–π –≥—Ä–∞—Ñ–∏–∫ –ë—Ä–∞—Ç—É—Å—è –æ—Ç–∫–ª—é—á—ë–Ω -->
            <div id="chartBratus" style="display:none;"></div>
            <div id="textBratus" style="margin-top:15px; font-size:0.9em; line-height:1.6;"></div>
            
            <button class="btn btn-secondary toggle-details" data-target="detailsBratus" onclick="toggleDetails('detailsBratus')"> 
                –ü–æ–¥—Ä–æ–±–Ω–µ–µ <span class="detail-arrow"><svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 7 L6 1 L11 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
                  </span>
            </button>
            <div id="detailsBratus" style="display:none; margin-top:15px; font-size:0.9em; line-height:1.6;">
            <p>–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª—É—á–µ–Ω–Ω–æ–π —Å—É–º–º—ã –ø–æ –∫–∞–∂–¥–æ–π –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ü–µ–Ω–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –≤–∞—à–µ–π –ª–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Å–º—ã—Å–ª–æ–≤.</p>

                <p> <b>‚Ä¢ –ì–µ–¥–æ–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ–ª—É—á–∞—Ç—å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –æ—Ç –∂–∏–∑–Ω–∏, –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º, –Ω–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –≤—Å–µ–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ–ª–æ–≤–µ–∫—É —ç–º–æ—Ü–∏–π –∏ –æ—â—É—â–µ–Ω–∏–π.</p>
                
                <p> <b>‚Ä¢ –°—Ç–∞—Ç—É—Å–Ω—ã–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –∑–∞–Ω–∏–º–∞—Ç—å –≤—ã—Å–æ–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –æ–±—â–µ—Å—Ç–≤–µ, –∞–∫—Ç–∏–≤–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ä—å–µ—Ä—É, –¥–æ–±–∏–≤–∞—Ç—å—Å—è —É—Å–ø–µ—Ö–∞ –∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –≤ –≥–ª–∞–∑–∞—Ö –æ–∫—Ä—É–∂–∞—é—â–∏—Ö.</p>
                
                <p> <b>‚Ä¢ –ö–æ–º–º—É–Ω–∏–∫–∞—Ç–∏–≤–Ω—ã–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –æ–±—â–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏, –ø–µ—Ä–µ–∂–∏–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–±—â–µ–Ω–∏–µ–º, —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–≤–æ—é –Ω—É–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏—á–∞—Å—Ç–Ω–æ—Å—Ç—å –∫ –∂–∏–∑–Ω–∏ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π.</p>
                
                <p> <b>‚Ä¢ –°–µ–º–µ–π–Ω—ã–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —á–ª–µ–Ω–∞—Ö —Å–≤–æ–µ–π —Å–µ–º—å–∏, –∂–∏—Ç—å —Ä–∞–¥–∏ –Ω–µ–µ, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤—Å–µ –ª—É—á—à–µ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–µ—Ç—è–º, —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å—É–¥—å–±–µ —Ä–æ–¥–Ω—ã—Ö –∏ –±–ª–∏–∑–∫–∏—Ö –ª—é–¥–µ–π.</p>
                
                <p> <b>‚Ä¢ –≠–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –ø—Ä–∏–¥–∞–≤–∞—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å —Å–∞–º–æ–º—É –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—é –∂–∏–∑–Ω–∏, –∏–º–µ—Ç—å —Å–≤–æ–±–æ–¥—É –≤—ã–±–æ—Ä–∞, –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –ª—é–±–æ–≤—å –≤–æ –≤—Å–µ—Ö –µ–µ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è—Ö.</p>
                
                <p> <b>‚Ä¢ –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ–∑–Ω–∞–≤–∞—Ç—å –∂–∏–∑–Ω—å, —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è—Ö –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ –º–∏—Ä–∞ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏, –∏—Å–∫–∞—Ç—å —Å–º—ã—Å–ª –∏ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ.</p>
                
                <p> <b>‚Ä¢ –ê–ª—å—Ç—Ä—É–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–º—ã—Å–ª—ã.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –±–µ—Å–∫–æ—Ä—ã—Å—Ç–Ω–æ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º –ª—é–¥—è–º, –æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–¥–µ–π—Å—Ç–≤–∏–µ, –¥–µ–ª–∞—Ç—å –¥–æ–±—Ä–æ, —Å–ª—É–∂–∏—Ç—å –æ–±—â–µ–º—É –±–ª–∞–≥—É, –ø—Ä–µ–Ω–µ–±—Ä–µ–≥–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –≤—ã–≥–æ–¥–æ–π.</p>
                
                <p> <b>‚Ä¢ –°–º—ã—Å–ª—ã —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</b> –û—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —Å–≤–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å —Å–≤–æ—é –ª–∏—á–Ω–æ—Å—Ç—å –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –æ–∫—Ä—É–∂–∞—é—â–∏–º –º–∏—Ä–æ–º.</p>
            </div>
        </div>

        <div class="res-block">
            <h3>2. –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∏—á–Ω–æ—Å—Ç–∏</h3>
            <p>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∂–µ–ª–∞–µ–º–æ–≥–æ (–ò–¥–µ–∞–ª—å–Ω–æ–µ) –∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ (–†–µ–∞–ª—å–Ω–æ–µ). –û–±–æ–±—â—ë–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ñ–µ—Ä.</p>
            <canvas id="chartMilman"></canvas>
            <div id="textMilman" style="margin-top:15px;"></div>

            <button class="btn btn-secondary toggle-details" data-target="detailsMilman" onclick="toggleDetails('detailsMilman')">
                –ü–æ–¥—Ä–æ–±–Ω–µ–µ <span class="detail-arrow"><svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 7 L6 1 L11 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
            </button>
<div id="emoWarningBlock" style="display:none; margin-bottom:15px; padding:12px; border:1px solid #e0c97f; background:#fffbe6; border-radius:8px; font-size:0.95em;">
</div>
<div id="detailsMilman" style="display:none; margin-top:15px; font-size:0.9em; line-height:1.6;">
    <h3>–ñ–∏–∑–Ω—å: –ò–¥–µ–∞–ª –∏ –†–µ–∞–ª—å–Ω–æ—Å—Ç—å</h3>
    <canvas id="chartMilmanLife" height="200"></canvas>
  
    <h3 style="margin-top:30px">–†–∞–±–æ—Ç–∞ / –£—á—ë–±–∞: –ò–¥–µ–∞–ª –∏ –†–µ–∞–ª—å–Ω–æ—Å—Ç—å</h3>
    <canvas id="chartMilmanWork" height="200"></canvas>

    <h3 style="margin-top:30px">–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
<canvas id="chartMilmanEmo" height="200"></canvas>

</div>

        </div>

        <div class="res-block">
            <h3>3. –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –ª–∏—á–Ω–æ—Å—Ç–∏</h3>
            <div id="iplDetails"></div>
            <div id="textIPL"></div>
            <button class="btn btn-secondary toggle-details" data-target="detailsIPL" onclick="toggleDetails('detailsIPL')">
                –ü–æ–¥—Ä–æ–±–Ω–µ–µ <span class="detail-arrow"><svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 7 L6 1 L11 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
            </button>
<div id="detailsIPL" style="display:none; margin-top:15px; font-size:0.9em; line-height:1.6;"></div>

        </div>

        <div style="text-align:center; margin-top:30px;">
            <button class="btn btn-red" onclick="clearState()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>
</div>

</body>
</html>
